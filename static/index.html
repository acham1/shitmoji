<html>
  <head>
    <link rel="icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="/styles.css" />
    <title>ShitMoji</title>
  </head>
  <body>
    <h1>ShitMoji</h1>
    <h3>
      A shitty <a href="https://github.com/acham1/shitmoji">fork</a> of
      qstearns's
      <a href="https://github.com/qstearns/shipmoji">shipmoji</a> (sfw)
    </h3>
    <div class="content">
      <h2>Code is sad, but poop is happy.</h2>
      <div class="shitmoji-container">
        <div id="shitmoji" class="shitmoji"></div>
      </div>
    </div>
    <div
      id="surprise"
      style="
        display: none;
        position: absolute;
        left: 0px;
        top: 0px;
        height: 100%;
        width: 100%;
        background-color: #a6692b;
      "
    >
      <h1>Quinn Stearns Memorial HTML</h1>
      <div class="content">
        <h2>
          Made possible by friends of the Quinn Stearns Memorial Foundation.
        </h2>
        <audio loop controls preload="none" id="audio">
          <source
            src="https://storage.googleapis.com/assets.alanch.am/audio/die_zauberfl%C3%B6te.mp3"
            type="audio/mpeg"
          />
          Your browser does not support the audio element.
        </audio>
      </div>
    </div>
  </body>
  <script>
    setEmoji = (emoji) => {
      el = document.querySelector("#shitmoji");
      el.innerHTML = emoji;
    };

    emojiJson = fetch("/rand").then((resp) =>
      resp.json().then((json) => {
        setEmoji(json.emoji);
      })
    );

    activateTrapCard = () => {
      document.getElementById("audio").play();
      document.getElementById("surprise").style.display = "block";
    };
  </script>
</html>
